<?xml version="1.0" encoding="UTF-8"?>
<project name="properties">

    <!-- Load user overrides -->
    <property file="${user.home}/.${ant.project.name}-build.properties"/>
    <property file="${user.home}/.build.properties"/>

	<!-- Base definitions -->
	<property file="build.properties" />

    <!-- Library versions and JARs -->
    <property name="lib.dir" location="lib" />
    <property file="${lib.dir}/lib.properties" />

	<!-- Properties for running unit tests with tomcat -->
    <property name="tomcat.server" value="localhost" />
	<property name="tomcat.port" value="8080" />
    <property name="tomcat.manager.url" value="http://${tomcat.server}:${tomcat.port}/manager" />
    <property name="tomcat.username" value="test" />
    <property name="tomcat.password" value="test" />
    
    <!-- Documentation settings -->
    <property name="doc.title" value="${ant.project.name} API" />
    <property name="doc.bottom" value="&lt;em&gt;&lt;small&gt;NOTE - these libraries are in active development and subject to change&lt;/small&gt;&lt;/em&gt;" />
    <property name="doc.header" value="&lt;a href=&quot;http://www.openmrs.org&quot; target=_top&gt;&lt;img src=&quot;./openmrs-logo-small.gif&quot; border=0/&gt;&lt;/a&gt;" />
    <property name="doc.footer" value="&lt;a href=&quot;http://www.openmrs.org&quot; target=_top&gt;${ant.project.name}&lt;/a&gt;" />

    <!-- Defaults for database connection -->
    <property name="database.dir" value="${mysql.dir}" />
    <property name="database.type" value="mysql" />
    <property name="database.name" value="openmrs" />
    <property name="database.host" value="localhost:3306" />
    <property name="database.username" value="test" />
	<property name="database.password" value="test" />
    <property name="database.driver_class" value="com.mysql.jdbc.Driver" />
    <property name="database.connection.url" 
        value="jdbc:${database.type}://${database.host}/${database.name}?autoReconnect=true" />
    <property name="hibernate.lazy" value="true" />
    <property name="hibernate.show_sql" value="true" />
    <property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect" />
	<property name="hibernate.dbcp.maxActive" value="2"/>
	<property name="hibernate.dbcp.maxIdle" value="2"/>
	<property name="hibernate.dbcp.maxWait" value="-1"/>
	<property name="hibernate.dbcp.whenExhaustedAction" value="1"/>
	<property name="hibernate.dbcp.validationQuery" value="select 1+1"/>
	<property name="hibernate.dbcp.ps.maxActive" value="8"/>
	<property name="hibernate.dbcp.ps.maxIdle" value="4"/>
	<property name="hibernate.dbcp.ps.maxWait" value="1000*60*30"/>
	<property name="hibernate.dbcp.ps.whenExhaustedAction" value="1"/> <!-- 0=fail, 1=block, 2=grow -->

    <property name="hibernate.dbcp.min_size" value="5" />
    <property name="hibernate.dbcp.max_size" value="20" />
    <property name="hibernate.dbcp.timeout" value="1800" />
    <property name="hibernate.dbcp.max_statements" value="50" />
    
    <!-- Environment properties -->
    <property environment="env"/>
    <property name="env.COMPUTERNAME" value="${env.HOSTNAME}"/>
    <property name="tomcat.home" value="${env.CATALINA_HOME}"/>    

    <!-- =================================================================== -->
    <!-- Classpaths                                                          -->
    <!-- =================================================================== -->
   
    <!-- Hibernate -->
    <path id="hibernate.classpath">
        <fileset dir="${hibernate.dir}" includes="*.jar" />
        <fileset dir="${hibernate.dir}/lib" includes="*.jar" />
		<fileset dir="${database.dir}" includes="*.jar" />
        <pathelement location="${database.jar}"/> 
        <pathelement location="${commons-beanutils.jar}" />
        <pathelement location="${commons-lang.jar}" />
        <path location="${build.dir}/api/classes" />
    </path>
    
    <!-- API -->
    <path id="api.compile.classpath">
		<fileset dir="${commons-logging.dir}" includes="*.jar" />
		<fileset dir="${hibernate.dir}" includes="*.jar" />
		<fileset dir="${ibatis.dir}" includes="*.jar" />
		<fileset dir="${log4j.dir}" includes="*.jar" />
		<fileset dir="${spring.dir}" includes="*.jar" />
		<fileset dir="${struts.dir}" includes="*.jar" />
    </path>
    <path id="api.test.classpath">
        <path refid="api.compile.classpath"/>
		<fileset dir="${test.dir}/api" includes="**/*.java" />
		<fileset dir="${junit.dir}" includes="*.jar" />
    </path>
        
    <!-- Web -->
    <path id="web.compile.classpath">
		<pathelement location="${dist.dir}/${app.name}-api-${app.version}.jar" />
		<fileset dir="${tomcat.dir}" includes="*.jar" />
		<fileset dir="${dwr.dir}" includes="*.jar" />
		<fileset dir="${commons-logging.dir}" includes="*.jar" />
		<fileset dir="${hibernate.dir}" includes="*.jar" />
		<fileset dir="${jstl.dir}" includes="*.jar" />
		<fileset dir="${spring.dir}" includes="*.jar" />
		<fileset dir="${struts.dir}" includes="*.jar" />
    </path>

</project>
